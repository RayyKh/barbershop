<!-- Hero Section -->
<div class="hero" id="top">
  <div class="video-container">
    <video 
      autoplay 
      muted 
      loop 
      playsinline 
      preload="auto"
      [muted]="true"
      class="hero-video">
      <source src="assets/videos/hero.mp4" type="video/mp4">
      Votre navigateur ne supporte pas la vidéo.
    </video>
  </div>
  <div class="hero-overlay"></div>
  <div class="hero-content" [style.transform]="'translateY(' + parallaxOffset + 'px)'">
    <div class="reveal-wrapper">
      <h1 class="text-reveal">Aladin BarberShop</h1>
    </div>
    <p class="subtitle fade-in-up delay-2">L'Art de l'Élégance Masculine</p>
    <p class="description fade-in-up delay-3">Une expérience de coiffure unique, où tradition et modernité se rencontrent.</p>
    <div class="cta-buttons fade-in-up delay-4">
      <button mat-raised-button color="primary" (click)="scrollToBooking()" class="cta-btn">RÉSERVER MAINTENANT</button>
      <button mat-stroked-button class="cta-btn-outline" (click)="scrollToBooking()">DÉCOUVRIR</button>
    </div>
  </div>
</div>

<!-- Services Section -->
<div class="section services-section" id="services-section">
  <div class="container">
    <div class="section-header" appScrollReveal>
      <h2>Nos Services</h2>
      <div class="divider"></div>
      <p>Des soins sur mesure pour votre barbe et vos cheveux</p>
    </div>

    <div class="price-list-wrapper" appScrollReveal [delay]="200">
      <img src="assets/pricelist2.jpeg" alt="Liste des prix" class="price-list-img">
    </div>
  </div>
</div>

<!-- Why Choose Us -->
<div class="section why-us-section" id="why-us">
  <div class="container">
    <div class="section-header light-text" appScrollReveal>
      <h2>Pourquoi Nous Choisir</h2>
      <div class="divider gold"></div>
    </div>
    
    <div class="features-grid">
      <div class="feature-item" appScrollReveal [delay]="100">
        <div class="icon-circle">
          <mat-icon>star</mat-icon>
        </div>
        <h3>Expertise</h3>
        <p>Des barbiers passionnés avec plus de 9 ans d'expérience.</p>
      </div>
      <div class="feature-item" appScrollReveal [delay]="200">
        <div class="icon-circle">
          <mat-icon>weekend</mat-icon>
        </div>
        <h3>Confort</h3>
        <p>Un salon luxueux conçu pour votre détente absolue.</p>
      </div>
      <div class="feature-item" appScrollReveal [delay]="300">
        <div class="icon-circle">
          <mat-icon>verified</mat-icon>
        </div>
        <h3>Produits Premium</h3>
        <p>Utilisation exclusive de produits haut de gamme.</p>
      </div>
    </div>
  </div>
</div>

<!-- Barbers Section -->
<div class="section barbers-section" id="barbers">
  <div class="container">
    <div class="section-header" appScrollReveal>
      <h2>Nos Experts</h2>
      <div class="divider"></div>
      <p>Rencontrez l'équipe qui sublimera votre style</p>
    </div>

    <div class="barbers-grid">
      <div class="barber-card" *ngFor="let barber of barbers; let i = index" appScrollReveal [delay]="(i+1) * 100">
        <div class="barber-img-container">
            <img [src]="'assets/' + barber.photo" *ngIf="barber.photo" alt="{{ barber.name }}">
            <img src="https://images.unsplash.com/photo-1621605815971-fbc98d665033?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" *ngIf="!barber.photo" alt="{{ barber.name }}">
        </div>
        <div class="barber-info">
          <h3>{{ barber.name }}</h3>
          <p class="specialty">{{ barber.speciality }}</p>
          <p class="description" *ngIf="barber.description">{{ barber.description }}</p>
        </div>
      </div>

      <!-- Fallback if no barbers loaded -->
      <div class="barber-card" *ngIf="barbers.length === 0" appScrollReveal [delay]="100">
        <div class="barber-img-container">
            <img src="https://images.unsplash.com/photo-1621605815971-fbc98d665033?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Barber">
        </div>
        <div class="barber-info">
          <h3>Hamouda</h3>
          <p class="specialty">Barbier</p>
        </div>
      </div>
      <div class="barber-card" *ngIf="barbers.length === 0" appScrollReveal [delay]="200">
        <div class="barber-img-container">
            <img src="https://images.unsplash.com/photo-1621605815971-fbc98d665033?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Barber">
        </div>
        <div class="barber-info">
          <h3>Aladin</h3>
          <p class="specialty">Barbier</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Booking Section -->
<div class="section booking-section-wrapper" id="booking">
  <div class="container">
    <div class="section-header light-text" appScrollReveal>
      <h2>Réservez Votre Rendez-vous</h2>
      <div class="divider gold"></div>
      <p>Simple, Rapide et Efficace</p>
    </div>
    
    <div class="booking-container-embed" appScrollReveal [delay]="200">
      <app-booking></app-booking>
    </div>
  </div>
</div>

<!-- Products Section -->
<div class="section products-section" id="products">
  <div class="container">
    <app-product-list></app-product-list>
  </div>
</div>

<!-- Gallery Section -->
<div class="section gallery-section" id="gallery">
  <div class="container">
    <div class="section-header light-text" appScrollReveal>
      <h2>GALLERY</h2>
      <div class="divider gold"></div>
    </div>

    <div class="gallery-slider" appScrollReveal [delay]="200">
      <button class="nav prev" (click)="prevGallery()" aria-label="Précédent">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <div class="slides" [style.transform]="'translateX(-' + (currentGalleryIndex * 100) + '%)'">
        <div class="slide" *ngFor="let group of galleryChunks">
          <div class="img" *ngFor="let img of group">
            <img [src]="img" alt="Galerie">
          </div>
        </div>
      </div>

      <button class="nav next" (click)="nextGallery()" aria-label="Suivant">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <div class="dots">
      <span class="dot" *ngFor="let _ of galleryChunks; index as i" [class.active]="i === currentGalleryIndex" (click)="goToGallery(i)"></span>
    </div>
  </div>
</div>

<!-- Feedbacks Section -->
<div class="section feedbacks-section" id="feedbacks">
  <div class="container">
    <div class="section-header" appScrollReveal>
      <h2>Feedbacks</h2>
      <div class="divider"></div>
      <p>Ce que disent nos clients</p>
    </div>

    <div class="feedbacks-grid">
      <mat-card class="feedback-card" *ngFor="let f of feedbacks; let i = index" appScrollReveal [delay]="(i+1) * 100">
        <mat-card-content>
          <div class="stars">
            <mat-icon *ngFor="let s of [].constructor(f.rating)">star</mat-icon>
          </div>
          <p class="text">{{ f.text }}</p>
          <p class="author">— {{ f.name }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>

<!-- Videos Section -->
<div class="section videos-section" id="videos">
  <div class="container">
    <div class="section-header light-text" appScrollReveal>
      <h2>Nos Vidéos</h2>
      
    </div>

    <div class="videos-grid">
      <mat-card class="video-card" *ngFor="let v of videos; let i = index" appScrollReveal [delay]="(i+1) * 100">
        <div class="video-wrapper">
          <ng-container *ngIf="!isMp4(v.url); else localVideo">
            <iframe [attr.src]="toEmbed(v.url)" title="{{ v.title }}" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
          </ng-container>
          <ng-template #localVideo>
            <video controls [src]="v.url"></video>
          </ng-template>
        </div>
        
      </mat-card>
    </div>
  </div>
 </div>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-col brand">
        <h3>AladinBarberShop</h3>
        <p>L'excellence au service de votre style.</p>
      </div>
      <div class="footer-col hours">
        <h3>Horaires</h3>
        <p><mat-icon>schedule</mat-icon> Mardi - Dimanche: 10h - 20h</p>
        <p><mat-icon>schedule</mat-icon> Lundi: 12h - 18h</p>
      </div>
      <div class="footer-col contact">
        <h3>Contact</h3>
        <p><mat-icon>place</mat-icon>20 Rue Jilani Merchen, Ez Zahra 2034, Tunisie</p>
        <p><mat-icon>call</mat-icon> +216 27365496</p>
      </div>
      <div class="footer-col maps">
        <h3>Localisation</h3>
        <div class="map-container">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3196.99425530581!2d10.308715674201158!3d36.74670897071574!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12fd49003cb2fb89%3A0x4bcccc957da7f3f6!2sBarbershop%20-%20Aladin!5e0!3m2!1sfr!2stn!4v1770142647634!5m2!1sfr!2stn" 
            width="100%" 
            height="180" 
            style="border:0; border-radius: 8px; filter: grayscale(1) invert(0.9) contrast(1.2);" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
      </div>
    </div>
    <div class="social">
      <a href="https://www.youtube.com/@AladinBarber" aria-label="YouTube" target="_blank" rel="noopener">
        <mat-icon>smart_display</mat-icon>
      </a>
      <a href="https://www.tiktok.com/@aladincoiff.thebarber?is_from_webapp=1&sender_device=pc" aria-label="TikTok" target="_blank" rel="noopener">
        <mat-icon>music_note</mat-icon>
      </a>
      <a href="https://www.instagram.com/aladincoiffbarbershop?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" aria-label="Instagram" target="_blank" rel="noopener">
        <mat-icon>camera_alt</mat-icon>
      </a>
    </div>
    <div class="copyright">
      <p>&copy; 2026 AladinBarberShop. Tous droits réservés. <span class="tag">RK Digital</span></p>
      <a routerLink="/admin" class="admin-footer-link">Espace Pro</a>
    </div>
  </div>
</footer>
